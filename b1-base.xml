<?xml version="1.0"?>
<!--
************************************************************************
B-1B set file.

2007-5-10 Markus Zojer
************************************************************************
-->

<PropertyList>
    <sim>
        <minimum-fg-version>2017+</minimum-fg-version>
        <expected-aircraft-dir-name>B-1B</expected-aircraft-dir-name>
        <dimensions>
            <radius-m type="double">22.0</radius-m> <!-- Wingspan is 42 but length is 44 -->
            <parkpos-offset-m type="double">0.0</parkpos-offset-m>
        </dimensions>
        <aircraft-class type="string">mil-cargo</aircraft-class>
        <aircraft-operator/>
        <aircraft-data>
            <path>/sim/dimensions/radius-m</path>
            <!-- Note that as of 2020-12, support for parkpos-offset-m has never been implemented. -->
            <path>/sim/dimensions/parkpos-offset-m</path>
            <path>/sim/aircraft-class</path>
            <path>/sim/aircraft-operator</path>
        </aircraft-data>
        <startup>
            <splash-texture>Aircraft/B-1B/bone.png</splash-texture>
        </startup>

        <!-- TODO: Migrate to JSBSim -->
        <flight-model>yasim</flight-model>
        <status>alpha</status>
        <rating>
            <FDM type="int">3</FDM>
            <systems type="int">3</systems>
            <cockpit type="int">4</cockpit>
            <model type="int">4</model>
        </rating>
            <tags>
	<tag>bomber</tag>
	<tag>boeing</tag>
	<tag>1980s</tag>
	<tag>1990s</tag>
	<tag>2000s</tag>
    <tag>2010s</tag>
	<tag>gulfwar1</tag>
	<tag>gulfwar2</tag>
	<tag>retractable-gear</tag>
	<tag>variable-geometry</tag>
	<tag>ifr</tag>
	<tag>hud</tag>
	<tag>supersonic</tag>
	<tag>afterburner</tag>
	<tag>jet</tag>
    </tags>
        <!-- Legacy authors list. Wiki says it can be kept for pre-2018.3 compatibility -->
        <author>Markus Zojer, Paul Jay Schrenker, pinto, NC-687, Zorka</author>
        <!-- Post 2018.3 authors list -->
        <authors>
            <author n="0">
                <name>Markus Zojer</name>
                <description>FDM/Instruments/Animations/3D modeling</description>
            </author>
            <author n="1">
                <name>Paul Jay Schrenker</name>
                <description>Main 3D model</description>
            </author>
            <author n="2">
                <name>Justin Nicholson</name>
                <nick>pinto</nick>
            </author>
            <author n="3">
                <name>NC-687</name>
            </author>
        </authors>

        <!-- TODO: Maintainers list doesn't appear to show in the launcher, maybe add maintainers to authors list? -->
        <maintainers>
            <maintainer n="0">
                <name>BobDotCom</name>
            </maintainer>
            <maintainer n="1">
                <name>Robert Andrew</name>
                <nick>RobAndrew96</nick>
	        </maintainer>
            <maintainer n="2">
                <name>SammySkycrafts</name>
            </maintainer>
            <maintainer n="3">
                <name>Zorka</name>
            </maintainer>
        </maintainers>
        <aero>B-1B-yasim</aero>
        <fuel-fraction>0.65</fuel-fraction>

        <urls>
            <support>https://discord.gg/GnNmpdkvGa</support>
            <wikipedia>https://en.wikipedia.org/wiki/Rockwell_B-1_Lancer</wikipedia>
            <code-repository>https://github.com/BobDotCom/B-1B</code-repository>
        </urls>

        <number-views type="int" archive="y">6</number-views>

        <chase-distance-m type="double" archive="y">-65.0</chase-distance-m>

        <view n="0">
            <internal archive="y">true</internal>
            <config>
                <x-offset-m archive="y">-0.53</x-offset-m><!-- left-/right+ -0.67-->
                <y-offset-m archive="y">1.20</y-offset-m><!-- up+/down- 1.37-->
                <z-offset-m archive="y">7.12</z-offset-m><!-- back+ 7.15-->
                <pitch-offset-deg>-6</pitch-offset-deg>
                <default-field-of-view-deg>70.7</default-field-of-view-deg>
            </config>
        </view>
        <view n="101">
            <!-- also used for ejection view, if change this number, also change it in MissileView.nas -->
            <name>Missile View</name>
            <type>lookat</type>
            <enabled>true</enabled>
            <heading-offset-deg>180</heading-offset-deg>
            <pitch-offset-deg>10</pitch-offset-deg>
        </view>


        <view n="96003">
            <name>co-pilot view</name>
            <type>lookfrom</type>
            <internal archive="y">true</internal>
            <config>
                <from-model type="bool">true</from-model>
                <from-model-idx type="int">0</from-model-idx>
                <ground-level-nearplane-m type="double">0.05f</ground-level-nearplane-m>
                <default-field-of-view-deg type="double">70.7</default-field-of-view-deg>
                <default-pitch-deg type="double">0</default-pitch-deg>
                <default-heading-deg type="double">0</default-heading-deg>
                <front-direction-deg type="double">0</front-direction-deg>
                <front-left-direction-deg type="double">45</front-left-direction-deg>
                <left-direction-deg type="double">90</left-direction-deg>
                <back-left-direction-deg type="double">135</back-left-direction-deg>
                <back-direction-deg type="double">180</back-direction-deg>
                <back-right-direction-deg type="double">225</back-right-direction-deg>
                <right-direction-deg type="double">270</right-direction-deg>
                <front-right-direction-deg type="double">315</front-right-direction-deg>
                <x-offset-m archive="y">0.5</x-offset-m>
                <y-offset-m archive="y">1.14</y-offset-m>
                <z-offset-m archive="y">7.12</z-offset-m>
                <pitch-offset-deg>0</pitch-offset-deg>
                <default-field-of-view-deg>55</default-field-of-view-deg>
            </config>
        </view>

        <view n="96002">
            <name>DSO/OSO centered view</name>
            <type>lookfrom</type>
            <internal archive="y">true</internal>
            <config>
                <from-model type="bool">true</from-model>
                <from-model-idx type="int">0</from-model-idx>
                <ground-level-nearplane-m type="double">0.05f</ground-level-nearplane-m>
                <default-field-of-view-deg type="double">84.5</default-field-of-view-deg>
                <default-pitch-deg type="double">0</default-pitch-deg>
                <default-heading-deg type="double">0</default-heading-deg>
                <front-direction-deg type="double">0</front-direction-deg>
                <front-left-direction-deg type="double">45</front-left-direction-deg>
                <left-direction-deg type="double">90</left-direction-deg>
                <back-left-direction-deg type="double">135</back-left-direction-deg>
                <back-direction-deg type="double">180</back-direction-deg>
                <back-right-direction-deg type="double">225</back-right-direction-deg>
                <right-direction-deg type="double">270</right-direction-deg>
                <front-right-direction-deg type="double">315</front-right-direction-deg>
                <x-offset-m archive="y">0.00</x-offset-m>
                <y-offset-m archive="y">1.14</y-offset-m>
                <z-offset-m archive="y">9.50</z-offset-m>
                <pitch-offset-deg>0</pitch-offset-deg>
                <default-field-of-view-deg>55</default-field-of-view-deg>
            </config>
        </view>

        <view n="96001">
            <name>OSO view</name>
            <type>lookfrom</type>
            <internal archive="y">true</internal>
            <config>
                <from-model type="bool">true</from-model>
                <from-model-idx type="int">0</from-model-idx>
                <ground-level-nearplane-m type="double">0.05f</ground-level-nearplane-m>
                <default-field-of-view-deg type="double">69.3</default-field-of-view-deg>
                <default-pitch-deg type="double">-5</default-pitch-deg>
                <default-heading-deg type="double">0</default-heading-deg>
                <front-direction-deg type="double">0</front-direction-deg>
                <front-left-direction-deg type="double">45</front-left-direction-deg>
                <left-direction-deg type="double">90</left-direction-deg>
                <back-left-direction-deg type="double">135</back-left-direction-deg>
                <back-direction-deg type="double">180</back-direction-deg>
                <back-right-direction-deg type="double">225</back-right-direction-deg>
                <right-direction-deg type="double">270</right-direction-deg>
                <front-right-direction-deg type="double">315</front-right-direction-deg>
                <x-offset-m archive="y">0.65</x-offset-m>
                <y-offset-m archive="y">1.28</y-offset-m>
                <z-offset-m archive="y">9.60</z-offset-m>
                <pitch-offset-deg>0</pitch-offset-deg>
                <default-field-of-view-deg>55</default-field-of-view-deg>
            </config>
        </view>

        <view n="96000">
            <name>Sniper Pod view</name>
            <type>lookfrom</type>
            <internal archive="y">true</internal>
            <config>
                <from-model type="bool">true</from-model>
                <from-model-idx type="int">0</from-model-idx>
                <x-offset-m archive="y">1.20</x-offset-m>
                <y-offset-m archive="y">-1.67</y-offset-m>
                <z-offset-m archive="y">11.50</z-offset-m>
                <pitch-offset-deg>-10</pitch-offset-deg>
                <default-pitch-deg type="double">-10</default-pitch-deg>
                <default-field-of-view-deg>50</default-field-of-view-deg>
            </config>
        </view>


        <!-- Shift the camera target point back -->
        <view n="1">
            <config>
                <target-z-offset-m archive="y" type="double">20.0</target-z-offset-m>
            </config>
        </view>

        <view n="2">
            <config>
                <x-offset-m archive="y" type="double">8.0</x-offset-m>
                <z-offset-m archive="y">-19.7</z-offset-m>
                <target-z-offset-m archive="y" type="double">20.0</target-z-offset-m>
            </config>
        </view>

        <view n="3">
            <config>
                <target-z-offset-m archive="y" type="double">20.0</target-z-offset-m>
            </config>
        </view>

        <!--<view n="5">
          <config>
            <target-z-offset-m archive="y" type="double">2.0</target-z-offset-m>
          </config>
        </view>-->

        <sound>
            <audible>true</audible>
            <path>Aircraft/B-1B/Sounds/b-1b-sound.xml</path>
        </sound>

        <submodels>
            <serviceable type="bool">true</serviceable>
            <path>Aircraft/B-1B/Submodels/sub_lancer.xml</path>
        </submodels>

        <hud>
            <path n="1">Huds/NTPS.xml</path>
            <visibility n="0" type="bool">false</visibility>
            <visibility n="1" type="bool">false</visibility>

            <color>
                <transparent type="bool">true</transparent>
                <antialiased type="bool">true</antialiased>
                <brightness type="float">0.85</brightness>
                <alpha type="float">0.85</alpha>
            </color>
            <palette>
                <color n="0">
                    <red type="float">0.38</red>
                    <green type="float">1.0</green>
                    <blue type="float">0.22</blue>
                </color>
                <color n="1">
                    <red type="float">1.0</red>
                    <green type="float">0.0</green>
                    <blue type="float">0.0</blue>
                </color>
            </palette>

        </hud>

        <model>
            <path>Aircraft/B-1B/Models/B-1B.xml</path>
            <A-6E>
                <fwdtank type="bool">false</fwdtank>
                <intmdtank type="bool">false</intmdtank>
                <afttank type="bool">false</afttank>
                <controls>
                    <PHD>
                        <TCrange-switch type="int">2</TCrange-switch>
                        <TCrealistic-shadow type="bool">1</TCrealistic-shadow>
                        <off-stdby-on type="int">2</off-stdby-on>
                    </PHD>
                </controls>
                <instrumentation>
                    <PHD>
                        <TCrange type="double">1.5</TCrange>
                        <h-deviation type="double">0.0</h-deviation>
                        <v-deviation type="double">0.0</v-deviation>
                        <plots-out-of-range type="bool">0</plots-out-of-range>
                    </PHD>
                </instrumentation>
            </A-6E>
        </model>

        <airport>
            <runways>
                <start-offset-m>35</start-offset-m>
            </runways>
        </airport>

        <multiplay>
            <generic>
                <!--<float n="0">0</float> free  -->
                <!--<float n="1">0</float> free  -->
                <float n="2">0</float><!-- fwd baydoor   -->
                <float n="3">0</float><!-- intmd baydoor    -->
                <float n="4">0</float><!-- aft baydoor  -->
                <float n="5">0</float><!-- refuel door -->
                <!--<float n="6">0</float> free   -->
                <!--<float n="7">0</float> free   -->
                <!--<float n="8">0</float> free   -->
                <!--<float n="9">0</float> free   -->
                <!--<float n="10">0</float> free   -->
                <!--<float n="11">0</float> free   -->
                <!--<float n="12">0</float> free   -->
                <int n="0" type="int">0</int><!-- anti collision lights  -->
                <int n="1" type="int">0</int>     <!-- b-1b model nasal script loaded -->
                <!--<int n="2" type="int">0</int>     free -->
                <!--<int n="3" type="int">0</int>     free -->
                <!--<int n="4" type="int">0</int>     free -->
                <!--<int n="5" type="int">0</int>     free -->
                <!--<int n="6" type="int">0</int>     free -->
                <string n="0"></string> <!-- lat/lon of impact points-->
            </generic>
        </multiplay>


        <menubar>
            <default>
                <menu n="10">
                    <label>B-1B</label>
                    <enabled type="bool">true</enabled>
                    <!--item n="0">
                        <label>Autostart</label>
                        <binding>
                            <command>property-toggle</command>
                            <property>controls/engines/engine[0]/cutoff</property>
                        </binding>
                        <binding>
                            <command>property-toggle</command>
                            <property>controls/engines/engine[1]/cutoff</property>
                        </binding>
                        <binding>
                            <command>property-toggle</command>
                            <property>controls/engines/engine[2]/cutoff</property>
                        </binding>
                        <binding>
                            <command>property-toggle</command>
                            <property>controls/engines/engine[3]/cutoff</property>
                        </binding>
                    </item-->
                    <item n="1">
                        <label>Toggle Canopy Access</label>
                        <binding>
                            <command>property-toggle</command>
                            <property>canopy/position-norm</property>
                        </binding>
                    </item>
<!--                     <item n="2">
                        <label>Weapon/Fuel Management</label>
                        <binding>
                            <command>nasal</command>
                            <script>weapons.weapon_select.open()</script>
                        </binding>
                    </item> -->
<!--                     <item n="3">
                        <label>Repair Damage</label>
                        <binding>
                            <command>nasal</command>
                            <script>weapons.repair_damage()</script>
                        </binding>
                    </item> -->
                    <item>
                        <label>Targeting Computer</label>
                        <name>targeting_comp</name>
                        <binding>
                            <command>dialog-show</command>
                            <dialog-name>targeting_comp</dialog-name>
                        </binding>
                    </item>
                    <item n="10">
                        <label>Pushback</label>
                        <name>pushback</name>
                        <binding>
                            <command>dialog-show</command>
                            <dialog-name>pushback</dialog-name>
                        </binding>
                    </item>
                    <item>
                        <label>Combat event log</label>
                        <name>flightlog</name>
                        <binding>
                            <command>dialog-show</command>
                            <dialog-name>flightlog</dialog-name>
                        </binding>
                    </item>
                    <item>
                        <label>Toggle Damage</label>
                        <binding>
                        <command>nasal</command>
                        <script>
                            <![CDATA[
                            if (getprop("/gear/gear[0]/wow") and getprop("/velocities/groundspeed-kt") <= 1.0){
                                setprop("/payload/armament/msg/", 1 - getprop("/payload/armament/msg/"));
                                if (getprop("/payload/armament/msg/")) {
                                    screen.log.write("Damage ON", 1, 0, 0);
                                } else {
                                    screen.log.write("Damage OFF", 1, 0, 0);
                                }
                            } else {
                                screen.log.write("Can't do that while airborne or moveing", 1, 1, 1);
                            }
                            ]]>
                        </script>
                        </binding>
                    </item>
                    <item>
                        <label>Toggle Headshake</label>
                        <binding>
                            <command>property-toggle</command>
                            <property>/sim/enable-headshake</property>
                        </binding>
                    </item>
                </menu>
            </default>
        </menubar>

        <systems>
            <electrical>
                <name>electrical</name>
                <number>0</number>
                <path>Aircraft/B-1B/Systems/generic-electrical.xml</path>
            </electrical>
            <autopilot>
                <path>Aircraft/B-1B/Systems/b1b-autopilot.xml</path>
            </autopilot>
            <path>Aircraft/B-1B/Systems/b1b-airdata.xml</path>
        </systems>

        <rendering>
            <redout>
                <enabled type="bool" userarchive="y">true</enabled>
                <parameters>
                    <blackout-onset-g>3.0</blackout-onset-g>
                    <blackout-complete-g>7.0</blackout-complete-g>
                </parameters>
            </redout>
        </rendering>

        <wing-sweep>
            <setting>0.00</setting>
            <setting>0.23</setting>
            <setting>0.42</setting>
            <setting>0.80</setting>
            <setting>1.00</setting>
        </wing-sweep>

        <flaps>
            <setting>0.0</setting>
            <setting>0.5</setting>
            <setting>1.0</setting>
        </flaps>

        <spoilers>
            <setting>0.0</setting>
            <setting>0.5</setting>
            <setting>1.0</setting>
        </spoilers>

        <weight n="0">
            <name>wing pos fwd</name>
            <weight-lb type="float">20000</weight-lb>
        </weight>
        <weight n="1">
            <name>wing pos aft</name>
            <weight-lb type="float">0</weight-lb>
        </weight>
        <weight n="2">
            <name>fuelwing fwd</name>
            <weight-lb type="float">0</weight-lb>
        </weight>
        <weight n="3">
            <name>fuelwing aft</name>
            <weight-lb type="float">0</weight-lb>
        </weight>
        <weight n="4">
            <name>bay fwd</name>
            <weight-lb type="float">0</weight-lb>
        </weight>
        <weight n="5">
            <name>bay intmd</name>
            <weight-lb type="float">0</weight-lb>
        </weight>
        <weight n="6">
            <name>bay aft</name>
            <weight-lb type="float">0</weight-lb>
        </weight>

        <!-- Drag not used with YASim but needed for fcs -->

        <drag n="0">
            <dragarea-sqft type="float">0</dragarea-sqft>
        </drag>
        <drag n="1">
            <dragarea-sqft type="float">0</dragarea-sqft>
        </drag>
        <drag n="2">
            <dragarea-sqft type="float">0</dragarea-sqft>
        </drag>

        <!-- AoA Indexer target 1.0 deg -->
        <aoa-indexer>
            <too-slow-deg>2.5</too-slow-deg>  <!-- target +1.5 deg -->
            <slow-deg>1.5</slow-deg>          <!-- target +0.5 deg -->
            <fast-deg>0.5</fast-deg>          <!-- target -0.5 deg -->
            <too-fast-deg>-0.5</too-fast-deg>  <!-- target -1.5 deg -->
        </aoa-indexer>

        <help>
            <title>B-1B Lancer</title>
            <key>
                <name>j/k</name>
                <desc>decrease/increase spoilers</desc>
            </key>
            <key>
                <name>f</name>
                <desc>sweep wing back</desc>
            </key>
            <key>
                <name>F</name>
                <desc>sweep wing fwd</desc>
            </key>
            <key>
                <name>l</name>
                <desc>Flare out</desc>
            </key>
            <key>
                <name>L</name>
                <desc>Weapon launch sequence</desc>
            </key>
            <key>
                <name>r</name>
                <desc>Select next ordonance</desc>
            </key>
            <key>
                <name>R</name>
                <desc>Select prev ordonance</desc>
            </key>
            <key>
                <name>t</name>
                <desc>Assign target</desc>
            </key>

            <line>Afterburner(ab) auto applied at full throttle</line>
            <line>For takeoff apply 1/2 flaps, full ab</line>
            <line>Rotate at 165kts/takeoff at 170/180kts</line>
            <line>---------------------------------------</line>
            <line>Startup procedure:</line>
            <line>1. Switch on Battery switch (overhead/middle)</line>
            <line>2. Start APU left and/or right (overhead/right):switch APU MODE L/R to on/start</line>
            <line>   NOTE: use 3a or 3b!</line>
            <line>3a.Couple left and right drive by switching L/R DRIVE to 2/4 ADS COUPLE</line>
            <line>3b.Switch on L/R BLEED AIR</line>
            <line>   If only 1 APU active, switch to CRSVR AIR to start engines in other nacelle</line>
            <line>4. Switch on Engines (middle console/back)</line>
            <line>   NOTE: APU left powers engines 1,2 APU right -->3,4</line>
            <line>5. Switch APU off when engines are on, or after climb</line>
            <line>-</line>
            <line>Terrain Following Systems TER FLW:</line>
            <line>1. Adjust clearance SET CLR (200ft incr.)A=0, B=200ft, C=400ft to J=2000ft</line>
            <line>...flatlands: down to 200ft, hills: 400/600ft,mountains: 800ft and above</line>
            <line>2. switch -PRTY- to TER FLW (other setting MAP)</line>
            <line>3. Toggle master switch TER FLW on</line>
            <line>-</line>
            <line>Terrain Avoidance Systems TER AVD:</line>
            <line>1. Adjust obstancle clearance CLR PLN</line>
            <line>...possible settings: 0, 100, 300, 500, 1000ft</line>
            <line>2. Adjust distance RNG, currently 2.5 or 5nm</line>
            <line>3. Toggle master switch TER AVD on</line>
            <line>...plane clears obstancle, stays at new alt</line>
            <line>-</line>
            <line>Fuel Center of Gravity Management System FCGMS:(-working but experimental-)</line>
            <line>1. Set CG SET to %MAC of desire -->visible at %MAC scale as orange marker</line>
            <line>2. Switch SYS to ON --> CG %MAC visible as white marker</line>
            <line>...works only within a certain margin, orange and white marker at same %MAC</line>
            <line>-</line>
            <line>Guided Weapon System:</line>
            <line>1. Load weapons on the ground in the B-1B menu</line>
            <line>2. Switch to OSO seat/view -> SMS panel ahead</line>
            <line>3. Arm weapons by selecting bay and then station (on SMS) and ARM</line>
            <line>...status visible on SMS display</line>
            <line>4. get target coordinates (manual input:IKB panel or sniper pod + t/r)</line>
            <line>5. Activate target tracking (BOMB/NAV panel--> STEER -->BOMB button)</line>
            <line>6. Activate release mechanism (BOMB/NAV panel -->BOMB button(upper right))</line>
            <line>7. Close bay doors</line>
            <line>Good Luck!</line>
        </help>

    <checklists include="gui/checklists.xml"/>
    </sim>

    <ai>
      <submodels>
        <submodel n="24">
          <flare-release-cmd type="bool">false</flare-release-cmd>
        </submodel>
      </submodels>
    </ai>

    <aircraft>
        <icao>
            <!-- L = light, M = medium, H = heavy, J = jumbo -->
            <wake-turbulence-category>H</wake-turbulence-category>
            <type type="string">B1</type>  <!-- eg B738, C172, BE9L -->
            <!-- ICAO equipment string  -->
            <!--<equipment type="string">SDFGY</equipment>-->
            <!-- ICAO surveillance string  -->
            <!-- <surveillance type="string">S</surveillance> mode-S transponder -->
        </icao>
        <!-- TODO: Performance data -->

    </aircraft>


    <systems>
        <refuel>
            <type>boom</type>
            <serviceable type="bool">true</serviceable>
            <report-contact type="bool">true</report-contact>

            <max-fuel-transfer-lbs-min>6000</max-fuel-transfer-lbs-min>
            <contact-radius-m>8</contact-radius-m>
            <offset-x-m>4</offset-x-m>
            <offset-y-m>0</offset-y-m>
            <offset-z-m>0.7</offset-z-m>
        </refuel>
    </systems>

    <payload n="0" include= "Systems/b1-payload.xml"/>

    <autopilot>
        <settings>
            <target-agl-ft type="float">1000</target-agl-ft>
            <target-altitude-ft type="float">8000</target-altitude-ft>
            <target-pitch-deg type="float">0</target-pitch-deg>
            <target-vfps type="float">0</target-vfps>
            <take-off-pitch-deg type="float">2.0</take-off-pitch-deg>
            <target-speed-kt type="float">250.0</target-speed-kt>
            <climb-out-initial-pitch-deg type="float">6.0</climb-out-initial-pitch-deg>
            <climb-out-final-pitch-deg type="float">3.0</climb-out-final-pitch-deg>
            <target-climb-rate-fpm type="float">2500.0</target-climb-rate-fpm>
            <target-descent-rate-fpm type="float">2000.0</target-descent-rate-fpm>
            <ground-roll-heading-deg type="float">-999.9</ground-roll-heading-deg>
            <target-mach type="float">0.9</target-mach>
            <target-aoa-deg type="float">1.0</target-aoa-deg>
            <max-roll-deg type="float">60</max-roll-deg>
        </settings>

    </autopilot>

    <!-- Start with the Parking Brake On -->
    <controls>
        <armament>
            <master-arm-switch type="int">0</master-arm-switch>
            <trigger type="bool">false</trigger>
            <ripple type="int">1</ripple>
            <ripple-delay type="float">0.5</ripple-delay>
            <dual type="int">1</dual>
            <station n="0">
                <release type="bool">false</release>
                <selected type="bool">true</selected>
            </station>
            <station n="1">
                <release type="bool">false</release>
                <selected type="bool">true</selected>
            </station>
            <station n="2">
                <release type="bool">false</release>
                <selected type="bool">true</selected>
            </station>
            <station n="3">
                <release type="bool">false</release>
                <selected type="bool">false</selected>
            </station>
        </armament>

        <gear>
            <brake-parking type="double">1.0</brake-parking>
        </gear>
        <flight>
            <wing-sweep type="double">-1.0</wing-sweep>
            <flaps type="double">0.0</flaps>
            <elevator-incidence-deg type="double">-1.0</elevator-incidence-deg>
        </flight>

        <switches>
            <engines>
                <afterburner n="0">0</afterburner>
                <afterburner n="1">0</afterburner>
                <afterburner n="2">0</afterburner>
                <afterburner n="3">0</afterburner>
            </engines>
        </switches>

        <engines>
            <engine n="0">
                <cutoff type="double">0</cutoff>

            </engine>
            <engine n="1">
                <cutoff type="double">0</cutoff>

            </engine>
            <engine n="2">
                <cutoff type="double">0</cutoff>

            </engine>
            <engine n="3">
                <cutoff type="double">0</cutoff>

            </engine>

        </engines>

    </controls>

    <!-- Engine indexes -->
    <engines>
        <engine n="0">
            <engine-num type="int">0</engine-num>

        </engine>
        <engine n="1">
            <engine-num type="int">1</engine-num>

        </engine>
        <engine n="2">
            <engine-num type="int">2</engine-num>

        </engine>
        <engine n="3">
            <engine-num type="int">3</engine-num>

        </engine>
    </engines>

    <!-- Fuel -->
    <consumables>
        <fuel>
            <tank n="0">
                <tank-num type="int">0</tank-num>
                <kill-when-empty type="bool">false</kill-when-empty>
                <name>Left Wing</name>
            </tank>
            <tank n="1">
                <tank-num type="int">1</tank-num>
                <kill-when-empty type="bool">false</kill-when-empty>
                <name>Right Wing</name>
            </tank>
            <tank n="2">
                <tank-num type="int">2</tank-num>
                <kill-when-empty type="bool">false</kill-when-empty>
                <name>Tank #1</name>
            </tank>
            <tank n="3">
                <tank-num type="int">3</tank-num>
                <kill-when-empty type="bool">false</kill-when-empty>
                <name>Tank #3</name>
            </tank>
            <tank n="4">
                <tank-num type="int">4</tank-num>
                <kill-when-empty type="bool">false</kill-when-empty>
                <name>Tank #2</name>
            </tank>
            <tank n="5">
                <tank-num type="int">5</tank-num>
                <kill-when-empty type="bool">false</kill-when-empty>
                <name>Tank #4</name>
            </tank>
            <tank n="6">
                <tank-num type="int">6</tank-num>
                <kill-when-empty type="bool">false</kill-when-empty>
                <name>Left Main</name>
            </tank>
            <tank n="7">
                <tank-num type="int">7</tank-num>
                <kill-when-empty type="bool">false</kill-when-empty>
                <name>Right Main</name>
            </tank>
            <tank n="8">
                <name>Not attached</name>
                <selected type="bool">false</selected>
                <capacity-gal_us type="double">0</capacity-gal_us>
                <level-norm type="double">0</level-norm>
            </tank>
            <tank n="9">
                <name>Not attached</name>
                <selected type="bool">false</selected>
                <capacity-gal_us type="double">0</capacity-gal_us>
                <level-norm type="double">0</level-norm>
            </tank>
            <tank n="10">
                <name>Not attached</name>
                <selected type="bool">false</selected>
                <capacity-gal_us type="double">0</capacity-gal_us>
                <level-norm type="double">0</level-norm>
            </tank>
        </fuel>
    </consumables>

    <instrumentation>
        <radar>
            <range type="int" archive="y">40</range>
            <minimized type="bool" archive="y">false</minimized>
        </radar>
        <cdu900>
            <line-selected type="int">0</line-selected>
            <expr>
                <leet type="int">1337</leet>
                <oneone type="int">11</oneone>
                <none type="int">0</none>
            </expr>
        </cdu900>
        <wxradar>
            <serviceable>true</serviceable>
            <range type="int" archive="y">20</range>
            <minimized type="bool" archive="y">false</minimized>
            <switch archive="y">off</switch>
            <mode archive="y">wx</mode>
            <lightning type="bool" archive="y">true</lightning>
            <display-mode archive="y">arc</display-mode>
        </wxradar>
        <datalink>
            <data type="int">0</data>
            <power type="bool">false</power>
            <channel type="int">42</channel>
            <power_prop type="string">/instrumentation/datalink/power</power_prop>
            <channel_prop type="string">instrumentation/datalink/channel</channel_prop>
            <receive_period type="double">1</receive_period>
            <!--identifier_prop type="string">instrumentation/datalink/ident</identifier_prop-->
        </datalink>
    </instrumentation>

    <input>
        <keyboard>

            <!-- map keys for wingsweep -->

            <key n="102">
                <name>f</name>
                <desc>Increase sweep</desc>
                <binding>
                    <command>nasal</command>
                    <script>flightcontrols.wingSweep(-1)</script>
                </binding>
                <mod-up>
                    <binding>
                        <command>nasal</command>
                        <script>flightcontrols.wingSweep(0)</script>
                    </binding>
                </mod-up>
            </key>

            <key n="70">
                <name>F</name>
                <desc>Decrease sweep</desc>
                <binding>
                    <command>nasal</command>
                    <script>flightcontrols.wingSweep(1)</script>
                </binding>
                <mod-up>
                    <binding>
                        <command>nasal</command>
                        <script>flightcontrols.wingSweep(0)</script>
                    </binding>
                </mod-up>
            </key>

            <key n="108">
				<name>l</name>
				<desc>Trigger flare release</desc>
				<binding>
					<command>property-assign</command>
					<property>/ai/submodels/submodel[24]/flare-release-cmd</property>
					<value type="bool">true</value>
				</binding>
				<mod-up>
					<binding>
						<command>property-assign</command>
						<property>/ai/submodels/submodel[24]/flare-release-cmd</property>
						<value type="bool">false</value>
					</binding>
				</mod-up>
            </key>

            <key n="84">
                <name>T</name>
                <desc>Autotrim cancel</desc>
                <binding>
                    <command>nasal</command>
                    <script>
                        setprop("controls/flight/elevator-trim",0);
                        setprop("controls/flight/aileron-trim",0);
                        setprop("controls/flight/rudder-trim",0);
                    </script>
                </binding>
            </key>

        <key n="109">
                <name>m</name>
                <desc>Masterarm</desc>
                <binding>
                    <command>nasal</command>
                    <script><![CDATA[
                            setprop("controls/armament/master-arm",!getprop("controls/armament/master-arm"));
                            screen.log.write("Master-arm "~(getprop("controls/armament/master-arm")==0?"OFF":"ON"), 0.5, 0.5, 1);
                        
                    ]]></script>
                </binding>
            </key>

            <key n="119">
                <name>w</name>
                <desc>Cycle Weapon Type</desc>
                <binding n="2">
                    <command>nasal</command>
                    <condition>
                            <and>
                            <not-equals>
                                <property>sim/current-view/name</property>
                                <value>Walk View</value>
                            </not-equals>
                            <not-equals>
                                <property>sim/current-view/name</property>
                                <value>Walker Orbit View</value>
                            </not-equals>
                            </and>
                     </condition>
                    <script>pylons.fcs.cycleLoadedWeapon();</script>
                </binding>
            </key>

            <key n="101">
                <name>e</name>
                <desc>Trigger</desc>
                <binding>
                    <command>property-assign</command>
                    <property>controls/armament/trigger</property>
                    <value>1</value>
                </binding>
                <mod-up>
                    <binding>
                        <command>property-assign</command>
                        <property>controls/armament/trigger</property>
                        <value>0</value>
                    </binding>
                </mod-up>
            </key>

            <key n="22">
                <name>Ctrl-v</name>
                <desc>Select pilot's view (view 0) or toggle between pilot's and OSO's view</desc>
                <binding>
                    <command>nasal</command>
                    <script>b1b.toggle_cockpit_views();</script>
                </binding>
            </key>
        </keyboard>
    </input>


    <nasal>
        <notifications>
            <!-- Before b1b -->
            <file>Aircraft/B-1B/Nasal/ArmamentNotification.nas</file>
            <file>Aircraft/B-1B/Nasal/frameNotification.nas</file>
            <file>Aircraft/B-1B/Nasal/GeoBridgedTransmitter.nas</file>
        </notifications>
        <hack>
            <file>Aircraft/B-1B/Nasal/hackCanvas.nas</file>
        </hack>
        <b1b>
            <file>Aircraft/B-1B/Nasal/exec.nas</file>
            <file>Aircraft/B-1B/Nasal/b1b.nas</file>
            <file>Aircraft/B-1B/Nasal/cdu900.nas</file>
        </b1b>
        <flightcontrols>
            <file>Aircraft/B-1B/Nasal/flightcontrols.nas</file>
        </flightcontrols>
        <cg>
            <file>Aircraft/B-1B/Nasal/cg.nas</file>
        </cg>
        <!--
        <GCI>
            <file>Aircraft/B-1B/Nasal/gci-listener.nas</file>
        </GCI>
        -->
        <damage>
            <file>Aircraft/B-1B/Nasal/damage.nas</file>
        </damage>
        <tfs>
            <file>Aircraft/B-1B/Nasal/terrain_follow.nas</file>
        </tfs>
        <!--
        <ts>
            <file>Aircraft/B-1B/Nasal/tyresmoke.nas</file>
        </ts>
        -->
        <rain>
            <file>Aircraft/B-1B/Nasal/rain.nas</file>
        </rain>
        <low>
            <file>Aircraft/B-1B/Nasal/low.nas</file>
        </low>
        <vector>
            <file>Aircraft/B-1B/Nasal/vector.nas</file>
        </vector>
        <ai>
          <file>Aircraft/B-1B/Nasal/AI_list.nas</file>
        </ai>
        <view>
          <file>Aircraft/B-1B/Nasal/MissileView.nas</file>
        </view>
        <tgp>
          <file>Aircraft/B-1B/Nasal/tgp.nas</file>
        </tgp>
        <tacview>
            <file>Aircraft/B-1B/Nasal/tacview.nas</file>
        </tacview>
        <datalink>
            <file>Aircraft/B-1B/Nasal/datalink.nas</file>
        </datalink>
        <steerpoints>
            <file>Aircraft/B-1B/Nasal/steerpoints.nas</file>
        </steerpoints>
        <rcs>
            <file>Aircraft/B-1B/Nasal/rcs_mand.nas</file>
        </rcs>
        <radar_system>
            <file>Aircraft/B-1B/Nasal/radar/radar-system-database.nas</file>
            <file>Aircraft/B-1B/Nasal/radar/radar-system.nas</file>
            <file>Aircraft/B-1B/Nasal/radar/apg-68.nas</file>
<!--            <file>Aircraft/B-1B/Nasal/radar/rwr_new.nas</file>-->
        </radar_system>
        <armament>
            <file>Aircraft/B-1B/Nasal/missile-code.nas</file>
        </armament>
        <stations>
            <file>Aircraft/B-1B/Nasal/station-manager.nas</file>
        </stations>
        <fc>
            <file>Aircraft/B-1B/Nasal/fire-control.nas</file>
        </fc>
        <radardist>
            <file>Aircraft/Instruments-3d/radardist/radardist.nas</file>
        </radardist>
        <radar>
            <file>Aircraft/B-1B/Nasal/phd.nas</file>
            <!--file>Aircraft/B-1B/Nasal/radardist.nas</file-->
            <file>Aircraft/B-1B/Nasal/rwr.nas</file>
        </radar>
        <enginefire>
            <file>Aircraft/B-1B/Nasal/enginefire.nas</file>
        </enginefire>
        <pylons>
            <file>Aircraft/B-1B/Nasal/pylons.nas</file>
        </pylons>
<!--         <weapons>
            <file>Aircraft/B-1B/Nasal/oso_management.nas</file>
            <file>Aircraft/B-1B/Nasal/oso_ikb.nas</file>
            <file>Aircraft/B-1B/Nasal/guide_to_target.nas</file>
            <file>Aircraft/B-1B/Nasal/wso_mfd.nas</file>
            <file>Aircraft/B-1B/Nasal/fuel_load.nas</file>
            <file>Aircraft/B-1B/Nasal/target_monitor.nas</file>
        </weapons> -->
        <fuel>
            <file>Aircraft/B-1B/Nasal/aar.nas</file>
        </fuel>
        <blacklist>
            <file>Aircraft/B-1B/Nasal/blacklist.nas</file>
        </blacklist>
        <instrumentation>
            <iff>
                <file>Aircraft/B-1B/Nasal/iff.nas</file>
            </iff>
        </instrumentation>
        <data>
            <file>Aircraft/B-1B/Nasal/data.nas</file>
        </data>
        <airbases>
            <file>Aircraft/B-1B/Nasal/airbases.nas</file>
        </airbases>
    </nasal>

</PropertyList>
